# git使用教程

## 目录

* [git简介](#git简介)

* [git安装与配置](#git安装与配置)

* [git基础操作和使用](#git基础操作和使用)

## git简介

> Git是一个分布式版本控制系统，用于高效地管理和跟踪文件的更改。它由Linux内核的创始人Linus Torvalds开发，旨在处理从小型到大型项目的所有内容，具有高效、灵活和强大的特点。

* 通过使用git可以对文件进行跟踪，对版本进行控制和管理，同时可以通过软件操作来对软件版本和项目进行跟踪和控制

## git安装和配置

1. git安装
    * 通过直接在官网下载相关的文件来进行安装和使用
    * git官方网站 [git官方网站](https://git-scm.com/)
    * 下载完成之后，一直点击next之后就是可以了，注意要将git添加到环境变量中
    > 环境变量是操作系统用来存储系统范围内的配置信息的一种机制，他们可以影响运行中的进程的行为，环境变量用于配置系统路径，用户信息，系统设置等，环境变量是一个动态命名值，可以影响运行中的进程或者程序中的行为，他们通常是以键值对的形式来出现的。
2. git基础配置
    * 通过安装好git之后，在终端中运行，`git --version`如果显示结果是如下所示的结果就是表示的就是安装的是没有问题的
    * ![alt text](image.png)
    * 之后就是可以进行配置，首先，对于一个文件追踪的功能软件，对文件修改的人的身份是必须要给出的，通过使用
        1. `git config --权限 user.name = "用户名称"`
        2. `git config --权限 user.email = "用户的邮箱"`
    * 对于使用github的用户来说，如果需要使用ssh来进行配置，就是需要来获取私钥，获取私钥的方式就是可以通过使用以下的方式来进行获取
        1. 首先打开终端窗口，然后运行`ssh-keygen -t rsa -b 4096 -C "你的邮箱账号"`，之后直接点击enter键使用默认的位置，通常就是~/.ssh/id_rsa，并选择是否设置密码短语
        2. 生成秘钥对之后，可以通过使用以下命令来查看私钥，`cat ~/.ssh/id_rsa`
        3. 可以通过以下命令来查看私钥`cat ~/.ssh/id_rsa.pub`
    * 之后就是可以通过在github中添加ssh来使用ssh来对仓库来进行操作
    > SSH（Secure Shell）是一种加密网络协议，用于在不安全的网络中安全地操作网络服务。SSH通过使用加密技术来确保数据传输的机密性和完整性，常用于远程登录系统和执行命令。

    ### 使用SSH(同上，但是更加规整)

    1. **生成SSH密钥对**：
        ```sh
        ssh-keygen -t rsa -b 4096 -C "你的邮箱账号"
        ```
        这将生成一个新的SSH密钥对，并提示你输入文件保存位置和密码短语。

    2. **添加SSH密钥到SSH代理**：
        ```sh
        eval "$(ssh-agent -s)"
        ssh-add ~/.ssh/id_rsa
        ```

    3. **将公钥添加到GitHub**：
        - 复制公钥内容：
            ```sh
            cat ~/.ssh/id_rsa.pub
            ```
        - 登录GitHub，进入“Settings” -> “SSH and GPG keys” -> “New SSH key”，粘贴公钥内容并保存。

    4. **测试SSH连接**：
        ```sh
        ssh -T git@github.com
        ```
        如果配置正确，你会看到类似于“Hi username! You've successfully authenticated...”的消息。

    通过以上步骤，你就可以使用SSH来安全地与GitHub仓库进行交互了。

## git基础操作和使用

### git相关的概念：

1. **工作区（Working Directory）**：你在本地看到的文件夹，包含了所有项目文件。

2. **暂存区（Staging Area）**：一个临时存储区域，用于保存即将提交到版本库的更改。

3. **版本库（Repository）**：包含项目的所有版本历史记录的数据库。分为本地版本库和远程版本库。

4. **提交（Commit）**：将暂存区的文件快照永久性存储到版本库的操作。

5. **分支（Branch）**：项目开发的并行版本。默认分支是`main`或`master`。

6. **合并（Merge）**：将不同分支的修改合并到一起。

7. **克隆（Clone）**：从远程版本库复制项目到本地。

8. **拉取（Pull）**：从远程版本库获取最新的更改并合并到本地。

9. **推送（Push）**：将本地提交的更改上传到远程版本库。

10. **冲突（Conflict）**：当不同分支的更改无法自动合并时，需要手动解决冲突。

### git图解操作

* 暂存区(stage) 工作区(working directory) 提交区(history)
* ![alt text](image-1.png)
* 通过使用`git add 文件名称或者*`可以将特定的文件或者所有的文件都添加到暂存区
* 通过使用`git commit 文件名称或者-a -m "提交的理由"`就是可以将特定的文件或者所有的文件都生成快照并进行提交
* 通过使用`git reset 文件名称`就是可以对特定的文件进行操作，使得最后的结果返回未修改的结果，就是用来撤销最后一次的`git add files`的结果，也可以使用`git reset`撤销所有暂存区域的文件
* 通过使用`git checkout -- files`把文件从暂存区域复制到工作目录，用来丢弃本地的修改
* ![alt text](image-2.png)
* 也可以直接通过使用 `git commit -a -m "提交的理由"`
* 也可以直接通过使用`git checkout HEAD -- files`来将这一次提交的结果转化到上一次的修改的结果
* ![alt text](image-3.png)
* 通过上面的图形就是可以知道就是当前的部分就是HEAD部分，所以就是可以通过使用HEAD来代替当前的分支
* 通过上面的图也是可以知道就是当前看到的文件就是working directory，也就是工作区，要通过使用commit命令来实现提交的文件就是处于暂存区。每一个节点都是有一个独有的SHA-1 hash号码
* ![alt text](image-4.png)
* 通过使用`git diff 一个分支sha 一个分支sha`就是可以查看两个分支节点之间的区别，首先可以通过使用`git log --oneline`来查看简单的序列号
* ![alt text](image-5.png)
* 通过使用`git commit -a -m "提交理由"`的时候就是会用暂存区的文件来创建一个新的提交，并将此时的节点作为父节点，然后将当前分支指向新的提交节点
* ![alt text](image-6.png)
* 即使当前分支是某一次提交的祖父节点，git也是会同样进行操作，在上图中在main分支的祖父节点stable分支进行了一次提交，生成了1800b，这样，stable分支就不再是main分支的祖父节点，此时，合并或者衍合是必须的
* ![alt text](image-7.png)
* 如果想要更改一次提交，可以使用`git commit --amend`git会使用与当前提交相同的父节点来进行新的一次提交，旧的提交就是会被取消
* ![alt text](image-8.png)
* checkout 命令就是为了从历史提交或者暂存区域中拷贝文件到工作目录，也可以用于切换分支。通过使用这种方式可以来拷贝文件或者切换分支